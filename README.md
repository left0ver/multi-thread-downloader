# multi-thread-downloader

一个使用jdk实现的多线程下载器，实现了断点续传 。这是一个练手的小项目，旨在熟悉多线程的使用以及了解如何使用多线程进行下载

# 实现思路

主要是将文件切分、合并的过程，本项目使用了 `httpConnection` 进行请求,获取到要下载的文件的总大小，进行一个切分，然后使用io流下载为多个临时文件（请求头中使用`Range` 可以只下载指定部分的字节），
之后将下载的多个文件合并为一个文件（使用io流读取这几个临时文件，写入到一个文件中）

## 断点续下的实现思路

先读取原先已下载的各个临时文件大小，前面说到可以使用`Range` 请求头指定下载的范围，
我们只需要修改起始的偏移量，跳过已下载的那部分，写入的时候使用 RandomAccessFile 的 seek 方法移动写入的位置将其移动到未下载的部分即可，只需要把后面未下载的部分下载并写入即可，全部下载完毕再进行一个合并
> 这个功能的实现思路不唯一，我还想到一种思路，Range请求下载的范围和正常的分片下载一样，可以使用 RandomAccessFile 的skipBytes 方法跳过写入已下载的那些部分（性能不如上面的那种）
